"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5319,565,740,1304,8300,7179],{5319:function(a,b,c){c.r(b);var d=c(7568),e=c(828),f=c(9815),g=c(4051),h=c.n(g),i=c(5893),j=c(7294),k=c(4480),l=c(1664),m=c.n(l),n=c(2483),o=c(9923),p=c(5797),q=c(9800),r=c(1304),s=c(695),t=function(a){var b,c=a.searchWord,g=(0,e.Z)((0,k.FV)(q.Z.productsService.productsState),2),l=g[0],t=g[1],u=(0,k.sJ)(q.Z.productsService.productLastIdxState),v=(0,j.useState)(null),w=v[0],x=v[1],y=(0,k.sJ)(q.Z.categoryService.selectedCategoryState),z=(0,k.sJ)(q.Z.filterService.selectedFiltersState);(0,j.useEffect)(function(){(0,d.Z)(h().mark(function a(){var b,d,e;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,b=[],!c){a.next=9;break}return a.next=5,n.Z.productService.apiGetProductsByKeyword({limit:15,lastIdx:-1,selectedCategory:y,selectedFilters:z,keyword:c});case 5:b=(d=a.sent.data).products,a.next=13;break;case 9:return a.next=11,n.Z.productService.apiGetProducts({limit:15,lastIdx:-1,selectedCategory:y,selectedFilters:z});case 11:b=(e=a.sent.data).products;case 13:t(b),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.error(a.t0);case 19:case"end":return a.stop()}},a,null,[[0,16]])}))()},[c,t,y,z]);var A=(0,j.useCallback)((b=(0,d.Z)(h().mark(function a(b){var d,g,i,j,k;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(g=(d=(0,e.Z)(b,1))[0].isIntersecting,w){a.next=3;break}return a.abrupt("return");case 3:if(!g){a.next=23;break}if(a.prev=4,i=[],!c){a.next=13;break}return a.next=9,n.Z.productService.apiGetProductsByKeyword({limit:15,lastIdx:u,selectedCategory:y,selectedFilters:z,keyword:c});case 9:i=(j=a.sent.data).products,a.next=17;break;case 13:return a.next=15,n.Z.productService.apiGetProducts({limit:15,lastIdx:u,selectedCategory:y,selectedFilters:z});case 15:i=(k=a.sent.data).products;case 17:t(function(a){return(0,f.Z)(a).concat((0,f.Z)(i))}),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(4),console.error(a.t0);case 23:case"end":return a.stop()}},a,null,[[4,20]])})),function(a){return b.apply(this,arguments)}),[c,w,u,t,y,z,]);return(0,j.useEffect)(function(){if(w&&l.length%15==0){var a=new IntersectionObserver(A,{threshold:.1,rootMargin:"20px"});return a.observe(w),function(){return null==a?void 0:a.disconnect()}}},[w,A,l]),(0,i.jsx)(i.Fragment,{children:0===l.length?(0,i.jsx)(s.Z.Error,{text:"** 조건에 맞는 상품이 없습니다. **"}):(0,i.jsx)("ul",{className:"grid grid-cols-1 xsm:grid-cols-2 md:grid-cols-3 gap-2",children:l.map(function(a,b){return(0,i.jsxs)("li",{className:"group relative flex flex-col shadow-lg rounded-md bg-gray-100 overflow-hidden hover:overflow-visible",ref:function(a){return l.length===b+1?x(a):null},children:[(0,i.jsx)(m(),{href:"/product/".concat(a.idx),children:(0,i.jsxs)("a",{className:"flex flex-col h-full rounded-md bg-white border-4 border-transparent z-[2] group-hover:border-gray-400 focus:outline-blue-400 focus:outline-4",children:[(0,i.jsx)(r.default,{path:a.photo,cover:!0,className:"h-60"}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col space-y-2 px-2 py-1",children:[(0,i.jsx)("h3",{className:"font-bolder text-xl",children:a.name}),(0,i.jsx)("p",{className:"flex-1 whitespace-pre overflow-hidden text-ellipsis",children:a.description}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{children:[(0,o.Wb)(a.price),"원"]}),(0,i.jsx)("time",{className:"text-xs sm:text-sm text-gray-400",children:(0,p.ie)(a.updatedAt,"YYYY-MM-DD-hh-mm-ss")})]})]})]})}),(0,i.jsx)("div",{className:"absolute top-0 left-0 w-full h-full rounded-md bg-gray-400 -z-10 group-hover:animate-my-ping group-hover:z-[1]"})]},a.idx)})})})};b.default=j.memo(t)},1304:function(a,b,c){c.r(b);var d=c(5893),e=c(7294),f=c(5675),g=c.n(f),h=c(9923),i=function(a){var b=a.path,c=a.className,f=a.alt,i=a.cover,j=a.contain,k=a.priority,l=a.avatar,m=a.isFocus,n=a.onClick,o=(0,e.useRef)(null),p=(0,e.useCallback)(function(){"function"==typeof n&&n()},[n]);return(0,d.jsx)(d.Fragment,{children:b?(0,d.jsx)("figure",{className:(0,h.Nn)("relative bg-black",m?"focus:ring-2 focus:ring-blue-400 focus:ring-offset-4":"",l?"rounded-full":"rounded-md",c||""),tabIndex:"function"==typeof n?0:-1,onClick:p,ref:o,onKeyDown:function(a){var b;return"Enter"===a.key?null===(b=o.current)|| void 0===b?void 0:b.click():null},children:(0,d.jsx)(g(),{src:b.includes("http")?b:(0,h.eV)(b),layout:"fill",className:(0,h.Nn)(l?"rounded-full":"",i?"object-cover":"",j?"object-contain":""),alt:f,priority:k})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("figure",{className:(0,h.Nn)("relative bg-black",l?"rounded-full":"rounded-md",c||""),onClick:p,tabIndex:"function"==typeof n?0:-1,ref:o,onKeyDown:function(a){var b;return"Enter"===a.key?null===(b=o.current)|| void 0===b?void 0:b.click():null},children:(0,d.jsx)(g(),{src:"/user.png",layout:"fill",className:(0,h.Nn)(l?"rounded-full":"rounded-md",i?"object-cover":"",j?"object-contain":""),alt:f,priority:k})})})})};b.default=i},565:function(a,b,c){c.r(b);var d=c(5893),e=c(9923),f=function(a){var b=a.children,c=a.className,f=a.hasPadding;return(0,d.jsx)("section",{className:(0,e.Nn)("min-w-[250px] bg-white rounded-md shadow-2xl",f?"p-2 xsm:p-3 md:p-4":"",c||""),children:b})};b.default=f},7179:function(a,b,c){c.r(b);var d=c(5893),e=c(9923),f=function(a){var b=a.text,c=a.className;return(0,d.jsx)("h6",{className:(0,e.Nn)("text-center font-bolder text-red-500",c||""),children:b})};b.default=f},8300:function(a,b,c){c.r(b);var d=c(5893),e=function(a){var b=a.text;return(0,d.jsx)("h5",{className:"pl-1 text-gray-800 font-bolder text-sm xs:text-base md:text-lg",children:b})};b.default=e},740:function(a,b,c){c.r(b);var d=c(5893),e=function(a){var b=a.text;return(0,d.jsx)("h4",{className:"text-gray-800 font-bolder text-lg xs:text-xl md:text-2xl",children:b})};b.default=e},695:function(a,b,c){var d=c(740),e=c(8300),f=c(7179),g=c(565),h={Title:d.default,SubTitle:e.default,Error:f.default,Background:g.default};b.Z=h},5797:function(a,b,c){c.d(b,{ie:function(){return f},vc:function(){return d}});var d=function(a,b,c){var d=new Date(a),e=[],f="",g=b.match(/[^YMDhms]/g),n=0;return e.push(h(d,b)),e.push(i(d,b)),e.push(j(d,b)),e.push(k(d,b)),e.push(l(d,b)),e.push(m(d,b)),e.forEach(function(a){if(a){if(c)return f+="".concat(a).concat(c);var b="";g?b=g[n]||"":c="",n++,f+="".concat(a).concat(b)}}),f},e=function(a){var b=new Date(a),c=new Date().getTime()-b.getTime();return c/1e3<60?"".concat(Math.floor(c/1e3),"초전"):c/1e3/60<60?"".concat(Math.floor(c/1e3/60),"분전"):c/1e3/60/60<24?"".concat(Math.floor(c/1e3/60/60),"시간전"):c/1e3/60/60/24<30?"".concat(Math.floor(c/1e3/60/60/24),"일전"):c/1e3/60/60/24/30<12?"".concat(Math.floor(c/1e3/60/60/24/30),"개월전"):"".concat(Math.floor(c/1e3/60/60/24/30/12),"년전")},f=function(a,b){return Date.now()-new Date(a).getTime()>6048e5?d(a,b):e(a)},g=function(a){switch(a){case"year":return/Y{2}/g;case"month":return/M/g;case"day":return/D/g;case"hour":return/h/g;case"minute":return/m/g;case"second":return/s/g}},h=function(a,b){var c=b.match(g("year"));if(null!==c){if(1===c.length)return+String(a.getFullYear()).slice(2);if(2===c.length)return a.getFullYear()}},i=function(a,b){var c=null,d=b.match(g("month"));if(null!==d)return c=a.getMonth()+1,2===d.length&&c<10&&(c="0".concat(c)),c},j=function(a,b){var c=null,d=b.match(g("day"));if(null!==d)return c=a.getDate(),2===d.length&&c<10&&(c="0".concat(c)),c},k=function(a,b){var c=null,d=b.match(g("hour"));if(null!==d)return c=a.getHours(),2===d.length&&c<10&&(c="0".concat(c)),c},l=function(a,b){var c=null,d=b.match(g("minute"));if(null!==d)return c=a.getMinutes(),(null==d?void 0:d.length)===2&&c<10&&(c="0".concat(c)),c},m=function(a,b){var c=null,d=b.match(g("second"));if(null!==d)return c=a.getSeconds(),(null==d?void 0:d.length)===2&&c<10&&(c="0".concat(c)),c}},9815:function(a,b,c){c.d(b,{Z:function(){return g}});var d=c(943),e=c(3375),f=c(1566);function g(a){return function(a){if(Array.isArray(a))return(0,d.Z)(a)}(a)||(0,e.Z)(a)||(0,f.Z)(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}])