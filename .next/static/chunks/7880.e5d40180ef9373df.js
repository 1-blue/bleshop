"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7880,565,740,1304,8300,3989,7179],{200:function(a,b,c){c.r(b);var d=c(7568),e=c(2670),f=c(4051),g=c.n(f),h=c(5893),i=c(7294),j=c(1664),k=c.n(j),l=c(4480),m=c(2920),n=c(1163),o=c(2483),p=c(9800),q=c(5797),r=c(9923),s=c(695),t=c(1304),u=c(6193),v=c(3989),w=c(9669),x=function(){var a=(0,n.useRouter)(),b=(0,l.sJ)(p.Z.orderService.orderListState),c=(0,i.useState)(!1),f=c[0],j=c[1],x=(0,i.useState)(null),y=x[0],z=x[1],A=(0,i.useCallback)(function(a){return function(){j(!0),z(a)}},[j,z]),B=(0,i.useCallback)((0,d.Z)(g().mark(function a(){var b,c,d,f;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!("number"!=typeof y)){a.next=2;break}return a.abrupt("return",m.Am.warning("알 수 없는 요청입니다."));case 2:return b=m.Am.loading("주문을 삭제하는 중입니다."),a.prev=3,a.next=6,o.Z.orderService.apiDeleteOrder({orderIdx:y});case 6:d=(c=a.sent).data.message,m.Am.update(b,{render:d,type:"success",isLoading:!1}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(3),console.error(a.t0),(0,e.Z)(a.t0,w.AxiosError)?m.Am.update(b,{render:null===(f=a.t0.response)|| void 0===f?void 0:f.data.message,type:"error",isLoading:!1,autoClose:1500}):m.Am.update(b,{render:"알 수 없는 에러가 발생했습니다.",type:"error",isLoading:!1,autoClose:1500});case 15:return a.prev=15,j(!1),a.finish(15);case 18:case"end":return a.stop()}},a,null,[[3,11,15,18]])})),[y,j]),C=(0,l.Zl)(p.Z.reviewService.informationAboutReviewState),D=(0,i.useCallback)(function(b){return function(){C(b),a.push("/review")}},[C,a]);return(0,h.jsx)(h.Fragment,{children:0===b.length?(0,h.jsx)(s.Z.Error,{text:"** 주문 내역이 없습니다. **"}):(0,h.jsxs)("ul",{className:"space-y-4",children:[b.map(function(b){return(0,h.jsx)("li",{children:(0,h.jsxs)(s.Z.Background,{hasPadding:!0,className:"relative",children:[(0,h.jsxs)("div",{className:"px-3 text-sm sm:text-base font-bold",children:[(0,h.jsx)("time",{children:(0,q.vc)(b.updatedAt,"YYYY/MM/DD")}),(0,h.jsx)("span",{children:" - "}),(0,h.jsx)("time",{children:(0,q.vc)(b.updatedAt,"hh시mm분")}),(0,h.jsx)("span",{children:" 주문"})]}),(0,h.jsx)("button",{type:"button",className:"absolute top-3 right-2",onClick:A(b.idx),children:(0,h.jsx)(u.default,{shape:"verticalDotDotDot",className:"w-6 h-6"})}),(0,h.jsx)("ul",{children:b.products.map(function(b){return(0,h.jsx)("li",{children:(0,h.jsx)(k(),{href:"/product/".concat(b.productIdx),children:(0,h.jsxs)("a",{className:"p-2 space-x-4 flex h-full rounded-md bg-white border-4 border-transparent z-[2] group-hover:border-gray-400 focus:outline-blue-500",onClick:function(a){"BUTTON"===a.target.nodeName&&a.preventDefault()},children:[(0,h.jsx)(t.default,{path:b.product.photo,cover:!0,className:"flex-shrink-0 w-[120px] h-[120px] sm:w-[160px] sm:h-[160px]"}),(0,h.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("span",{className:"font-bolder sm:text-lg",children:b.product.name}),b.isReview?(0,h.jsx)("button",{type:"button",className:"text-[8px] sm:text-xs hover:underline hover:underline-offset-2",onClick:function(){return a.push("/information/review")},children:"리뷰 관리로 이동"}):(0,h.jsx)("button",{type:"button",className:"py-1 px-1.5 text-[8px] sm:text-xs border border-blue-400 rounded-md text-blue-400 bg-white hover:bg-blue-400 hover:text-white focus:outline-none focus:bg-blue-400 focus:text-white transition-colors",onClick:D({name:b.product.name,photo:b.product.photo,productIdx:b.productIdx,orderIdx:b.orderIdx}),children:"리뷰 작성"})]}),(0,h.jsx)("div",{className:"flex-1"}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{className:"flex justify-between",children:[(0,h.jsx)("span",{className:"text-sm sm:text-base font-bold",children:"상품 가격"}),(0,h.jsxs)("span",{className:"text-sm sm:text-base",children:[(0,r.Wb)(b.product.price),"원"]})]}),(0,h.jsxs)("li",{className:"flex justify-between",children:[(0,h.jsx)("span",{className:"text-sm sm:text-base font-bold",children:"구매 개수"}),(0,h.jsxs)("span",{className:"text-sm sm:text-base",children:[b.quantity,"개"]})]}),(0,h.jsx)("hr",{className:"my-1"}),(0,h.jsxs)("li",{className:"flex justify-between font-bold",children:[(0,h.jsx)("span",{className:"text-sm sm:text-base",children:"상품 결제금액"}),(0,h.jsxs)("span",{className:"text-sm sm:text-base",children:[(0,r.Wb)(b.product.price*b.quantity),"원"]})]})]})]})]})})},""+b.productIdx+b.orderIdx)})}),(0,h.jsxs)("div",{className:"p-2",children:[(0,h.jsx)("hr",{className:"border-gray-300 my-2 border-2"}),(0,h.jsx)("li",{className:"mb-1",children:(0,h.jsx)("span",{className:"font-bolder sm:text-lg",children:"결제 정보"})}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("span",{className:"text-sm sm:text-base font-bold",children:"결제 방법"}),(0,h.jsx)("span",{className:"text-sm sm:text-base",children:b.provider})]}),(0,h.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,h.jsx)("span",{className:"text-sm sm:text-base font-bold",children:"총 결제금액"}),(0,h.jsxs)("span",{className:"text-sm sm:text-base",children:[(0,r.Wb)(b.amount),"원"]})]})]}),(0,h.jsxs)("ul",{className:"px-2",children:[(0,h.jsx)("hr",{className:"border-gray-300 my-2 border-2"}),(0,h.jsx)("li",{className:"mb-1",children:(0,h.jsx)("span",{className:"font-bolder sm:text-lg",children:"배송지 정보"})}),(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"text-sm sm:text-base font-bold",children:b.name})}),(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"text-sm sm:text-base",children:b.address})}),(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"text-sm sm:text-base",children:b.residence})}),(0,h.jsx)("li",{children:(0,h.jsx)("span",{className:"text-sm sm:text-base",children:(0,r.lM)(b.phone)})}),(0,h.jsx)("hr",{className:"my-1"}),(0,h.jsx)("li",{children:(0,h.jsxs)("span",{className:"text-sm sm:text-base",children:["배송 요청 사항: ",b.message]})})]})]})},b.idx)}),f&&(0,h.jsx)(v.default,{title:"상품 주문 내역 관리",onCloseModal:function(){return j(!1)},className:"max-w-[500px] min-w-[250px]",children:(0,h.jsxs)(s.Z.Background,{className:"flex flex-col divide-y",children:[(0,h.jsx)("button",{type:"button",className:"py-2 text-xs xs:text-sm md:text-base hover:bg-gray-300 transition-colors",onClick:B,children:"주문내역 삭제"}),(0,h.jsx)("button",{type:"button",className:"py-2 text-xs xs:text-sm md:text-base hover:bg-gray-300 transition-colors",onClick:function(){return j(!1)},children:"닫기"})]})})]})})};b.default=x},3989:function(a,b,c){c.r(b);var d=c(5893),e=c(7294),f=c(9923),g=function(a){var b=a.children,c=a.onCloseModal,g=a.title,h=a.className,i=(0,e.useRef)(null),j=(0,e.useCallback)(function(a){i.current===a.target&&c()},[i,c]);return(0,e.useEffect)(function(){return window.addEventListener("click",j),function(){return window.removeEventListener("click",j)}},[j]),(0,e.useEffect)(function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="auto"}},[]),(0,d.jsx)("aside",{className:"fixed top-0 left-0 bg-black/60 w-full h-full animate-fade-in z-[10]",ref:i,style:{margin:0},children:(0,d.jsxs)("aside",{className:(0,f.Nn)("absolute top-1/2 left-1/2 w-2/3 rounded-md bg-white -translate-x-1/2 -translate-y-1/2 overflow-y-auto",h||""),children:[g&&(0,d.jsx)("h3",{className:"text-base sm:text-xl md:text-2xl text-center text-white font-bolder py-2 xs:py-3 bg-blue-400",children:g}),b]})})};b.default=g},1304:function(a,b,c){c.r(b);var d=c(5893),e=c(7294),f=c(5675),g=c.n(f),h=c(9923),i=function(a){var b=a.path,c=a.className,f=a.alt,i=a.cover,j=a.contain,k=a.priority,l=a.avatar,m=a.isFocus,n=a.onClick,o=(0,e.useRef)(null),p=(0,e.useCallback)(function(){"function"==typeof n&&n()},[n]);return(0,d.jsx)(d.Fragment,{children:b?(0,d.jsx)("figure",{className:(0,h.Nn)("relative bg-black",m?"focus:ring-2 focus:ring-blue-400 focus:ring-offset-4":"",l?"rounded-full":"rounded-md",c||""),tabIndex:"function"==typeof n?0:-1,onClick:p,ref:o,onKeyDown:function(a){var b;return"Enter"===a.key?null===(b=o.current)|| void 0===b?void 0:b.click():null},children:(0,d.jsx)(g(),{src:b.includes("http")?b:(0,h.eV)(b),layout:"fill",className:(0,h.Nn)(l?"rounded-full":"",i?"object-cover":"",j?"object-contain":""),alt:f,priority:k})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("figure",{className:(0,h.Nn)("relative bg-black",l?"rounded-full":"rounded-md",c||""),onClick:p,tabIndex:"function"==typeof n?0:-1,ref:o,onKeyDown:function(a){var b;return"Enter"===a.key?null===(b=o.current)|| void 0===b?void 0:b.click():null},children:(0,d.jsx)(g(),{src:"/user.png",layout:"fill",className:(0,h.Nn)(l?"rounded-full":"rounded-md",i?"object-cover":"",j?"object-contain":""),alt:f,priority:k})})})})};b.default=i},565:function(a,b,c){c.r(b);var d=c(5893),e=c(9923),f=function(a){var b=a.children,c=a.className,f=a.hasPadding;return(0,d.jsx)("section",{className:(0,e.Nn)("min-w-[250px] bg-white rounded-md shadow-2xl",f?"p-2 xsm:p-3 md:p-4":"",c||""),children:b})};b.default=f},7179:function(a,b,c){c.r(b);var d=c(5893),e=c(9923),f=function(a){var b=a.text,c=a.className;return(0,d.jsx)("h6",{className:(0,e.Nn)("text-center font-bolder text-red-500",c||""),children:b})};b.default=f},8300:function(a,b,c){c.r(b);var d=c(5893),e=function(a){var b=a.text;return(0,d.jsx)("h5",{className:"pl-1 text-gray-800 font-bolder text-sm xs:text-base md:text-lg",children:b})};b.default=e},740:function(a,b,c){c.r(b);var d=c(5893),e=function(a){var b=a.text;return(0,d.jsx)("h4",{className:"text-gray-800 font-bolder text-lg xs:text-xl md:text-2xl",children:b})};b.default=e},695:function(a,b,c){var d=c(740),e=c(8300),f=c(7179),g=c(565),h={Title:d.default,SubTitle:e.default,Error:f.default,Background:g.default};b.Z=h},5797:function(a,b,c){c.d(b,{ie:function(){return f},vc:function(){return d}});var d=function(a,b,c){var d=new Date(a),e=[],f="",g=b.match(/[^YMDhms]/g),n=0;return e.push(h(d,b)),e.push(i(d,b)),e.push(j(d,b)),e.push(k(d,b)),e.push(l(d,b)),e.push(m(d,b)),e.forEach(function(a){if(a){if(c)return f+="".concat(a).concat(c);var b="";g?b=g[n]||"":c="",n++,f+="".concat(a).concat(b)}}),f},e=function(a){var b=new Date(a),c=new Date().getTime()-b.getTime();return c/1e3<60?"".concat(Math.floor(c/1e3),"초전"):c/1e3/60<60?"".concat(Math.floor(c/1e3/60),"분전"):c/1e3/60/60<24?"".concat(Math.floor(c/1e3/60/60),"시간전"):c/1e3/60/60/24<30?"".concat(Math.floor(c/1e3/60/60/24),"일전"):c/1e3/60/60/24/30<12?"".concat(Math.floor(c/1e3/60/60/24/30),"개월전"):"".concat(Math.floor(c/1e3/60/60/24/30/12),"년전")},f=function(a,b){return Date.now()-new Date(a).getTime()>6048e5?d(a,b):e(a)},g=function(a){switch(a){case"year":return/Y{2}/g;case"month":return/M/g;case"day":return/D/g;case"hour":return/h/g;case"minute":return/m/g;case"second":return/s/g}},h=function(a,b){var c=b.match(g("year"));if(null!==c){if(1===c.length)return+String(a.getFullYear()).slice(2);if(2===c.length)return a.getFullYear()}},i=function(a,b){var c=null,d=b.match(g("month"));if(null!==d)return c=a.getMonth()+1,2===d.length&&c<10&&(c="0".concat(c)),c},j=function(a,b){var c=null,d=b.match(g("day"));if(null!==d)return c=a.getDate(),2===d.length&&c<10&&(c="0".concat(c)),c},k=function(a,b){var c=null,d=b.match(g("hour"));if(null!==d)return c=a.getHours(),2===d.length&&c<10&&(c="0".concat(c)),c},l=function(a,b){var c=null,d=b.match(g("minute"));if(null!==d)return c=a.getMinutes(),(null==d?void 0:d.length)===2&&c<10&&(c="0".concat(c)),c},m=function(a,b){var c=null,d=b.match(g("second"));if(null!==d)return c=a.getSeconds(),(null==d?void 0:d.length)===2&&c<10&&(c="0".concat(c)),c}},9815:function(a,b,c){c.d(b,{Z:function(){return g}});var d=c(943),e=c(3375),f=c(1566);function g(a){return function(a){if(Array.isArray(a))return(0,d.Z)(a)}(a)||(0,e.Z)(a)||(0,f.Z)(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}])